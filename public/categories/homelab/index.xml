<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Homelab on My Blog</title>
        <link>http://192.168.100.63/categories/homelab/</link>
        <description>Recent content in Homelab on My Blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Wed, 14 May 2025 13:00:00 -0400</lastBuildDate><atom:link href="http://192.168.100.63/categories/homelab/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Building a Robust Access Layer for Self-Hosted Services</title>
        <link>http://192.168.100.63/projects/tunnel-setup/</link>
        <pubDate>Wed, 14 May 2025 12:00:00 -0500</pubDate>
        
        <guid>http://192.168.100.63/projects/tunnel-setup/</guid>
        <description>&lt;img src="http://192.168.100.63/img/oneoff/authelia1.png" alt="Featured image of post Building a Robust Access Layer for Self-Hosted Services" /&gt;&lt;h1 id=&#34;making-my-self-hosted-services-actually-accessible-without-going-insane&#34;&gt;&lt;a href=&#34;#making-my-self-hosted-services-actually-accessible-without-going-insane&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;Making My Self-Hosted Services Actually Accessible (Without Going Insane)
&lt;/h1&gt;&lt;p&gt;&lt;em&gt;How I finally got my recipe manager working from anywhere without poking holes in my firewall&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Posted: May 14, 2025 | 6 min read&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;So here&amp;rsquo;s the thing - I&amp;rsquo;ve been running services in my homelab for years, and every time I want to access something remotely, it turns into this whole ordeal. You know the drill: &amp;ldquo;just open a port,&amp;rdquo; they say. &amp;ldquo;Point your domain at it,&amp;rdquo; they say. Yeah, right. Tell that to my segmented VLANs and my paranoia about security.&lt;/p&gt;
&lt;p&gt;Last month I finally had enough. My wife kept asking why she couldn&amp;rsquo;t access our recipe collection (Tandoor Recipes) when she was out grocery shopping, and honestly, I was getting tired of VPN&amp;rsquo;ing in just to check if I had the ingredients for dinner. Time to build something proper.&lt;/p&gt;
&lt;p&gt;After way too much research and probably more frustration than necessary, I ended up with a setup using Cloudflared tunnels, Traefik, and Authelia. Spoiler alert: it actually works really well now, but getting there was&amp;hellip; an adventure.&lt;/p&gt;
&lt;h2 id=&#34;the-problem-aka-why-simple-solutions-suck&#34;&gt;&lt;a href=&#34;#the-problem-aka-why-simple-solutions-suck&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;The Problem (aka Why Simple Solutions Suck)
&lt;/h2&gt;&lt;p&gt;My homelab isn&amp;rsquo;t just one machine sitting in a closet. I&amp;rsquo;ve got services scattered across different VLANs because, you know, security. Tandoor lives on its own Docker host, the proxy stuff is somewhere else, and everything&amp;rsquo;s firewalled to hell and back.&lt;/p&gt;
&lt;p&gt;What I wanted was pretty reasonable, I thought:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Access my stuff from anywhere without opening ports&lt;/li&gt;
&lt;li&gt;Stop managing separate logins for everything&lt;/li&gt;
&lt;li&gt;Make it user-friendly enough that my family could actually use it&lt;/li&gt;
&lt;li&gt;Keep it modular so I&amp;rsquo;m not locked into some monolithic solution&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The &amp;ldquo;just use a VPN&amp;rdquo; crowd can save it - I wanted something that actually felt like using a normal website.&lt;/p&gt;
&lt;h2 id=&#34;how-i-solved-it-the-technical-bits&#34;&gt;&lt;a href=&#34;#how-i-solved-it-the-technical-bits&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;How I Solved It (The Technical Bits)
&lt;/h2&gt;&lt;h3 id=&#34;the-stack&#34;&gt;&lt;a href=&#34;#the-stack&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;The Stack
&lt;/h3&gt;&lt;p&gt;I went with three main pieces:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Cloudflared Tunnel&lt;/strong&gt; - This thing is honestly brilliant. Instead of punching holes in your firewall, it creates an outbound connection to Cloudflare. Your services stay completely internal, but you can access them through proper domains.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Traefik&lt;/strong&gt; - Handles all the reverse proxy magic. Routes requests, manages SSL certificates, plays nice with Docker labels. Once you get the hang of it, adding new services is actually pretty painless.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Authelia&lt;/strong&gt; - The authentication layer. Single sign-on, 2FA, granular access controls. Makes everything feel professional instead of like a garage project.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s how they fit together:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Internet
   │
Cloudflare (your domain DNS)
   │
Cloudflared Tunnel (Docker container)
   │
Traefik Reverse Proxy
   │
Authelia Authentication
   │
Tandoor Service (on another VLAN)
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;getting-cloudflared-working&#34;&gt;&lt;a href=&#34;#getting-cloudflared-working&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;Getting Cloudflared Working
&lt;/h3&gt;&lt;p&gt;The tunnel setup was actually the easiest part, which surprised me. Create a tunnel in the Cloudflare dashboard, grab the token, throw it in a Docker container:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;services&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;cloudflared&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;cloudflare/cloudflared:latest&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;restart&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;unless-stopped&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;command&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;tunnel run&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;environment&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;TUNNEL_TOKEN=&amp;lt;your-token-here&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;volumes&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;./cloudflared:/etc/cloudflared&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The only gotcha I hit was making sure the credentials file was mounted properly. Oh, and if you&amp;rsquo;re dealing with WebSocket apps, you might need some extra config - learned that one the hard way.&lt;/p&gt;
&lt;h3 id=&#34;traefik-configuration-hell-then-heaven&#34;&gt;&lt;a href=&#34;#traefik-configuration-hell-then-heaven&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;Traefik Configuration Hell (Then Heaven)
&lt;/h3&gt;&lt;p&gt;Traefik&amp;rsquo;s great once it&amp;rsquo;s working, but man, those labels are picky. Miss a capital letter or mess up the syntax and nothing works. No helpful error messages either - it just silently ignores your configuration.&lt;/p&gt;
&lt;p&gt;My static config ended up looking like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# traefik.yml&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;entryPoints&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;web&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;address&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:80&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;websecure&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;address&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:443&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;providers&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;docker&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;exposedByDefault&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;certificatesResolvers&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;cloudflare&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;acme&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;email&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;your-email@domain.com&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;storage&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/etc/traefik/acme.json&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;dnsChallenge&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#f92672&#34;&gt;provider&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;cloudflare&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;For services, the labels look like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;labels&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  - &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;traefik.enable=true&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  - &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;traefik.http.routers.tandoor.rule=Host(`recipes.yourdomain.com`)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  - &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;traefik.http.routers.tandoor.entrypoints=websecure&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  - &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;traefik.http.routers.tandoor.tls.certresolver=cloudflare&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  - &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;traefik.http.routers.tandoor.middlewares=authelia@docker&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Pro tip: Use a YAML linter. Seriously. Saved me hours of debugging.&lt;/p&gt;
&lt;h3 id=&#34;authelia-powerful-but-intimidating&#34;&gt;&lt;a href=&#34;#authelia-powerful-but-intimidating&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;Authelia: Powerful but Intimidating
&lt;/h3&gt;&lt;p&gt;Authelia&amp;rsquo;s config file is&amp;hellip; extensive. Like, really extensive. I probably spent more time on this than everything else combined, mostly because I kept overthinking it.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s what worked for me (simplified):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;host&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;0.0.0.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;port&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;9091&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;log_level&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;info&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;authentication_backend&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;file&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;path&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;/config/users_database.yml&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;access_control&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;default_policy&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;deny&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;rules&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    - &lt;span style=&#34;color:#f92672&#34;&gt;domain&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;recipes.yourdomain.com&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      &lt;span style=&#34;color:#f92672&#34;&gt;policy&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;two_factor&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;session&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;authelia_session&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;secret&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;your-secret-here&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;expiration&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;1h&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;storage&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;local&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;path&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;/config/db.sqlite3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;notifier&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;filesystem&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;filename&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;/config/notification.txt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Start simple, get it working, then add complexity. Trust me on this one.&lt;/p&gt;
&lt;h3 id=&#34;the-vlan-nightmare&#34;&gt;&lt;a href=&#34;#the-vlan-nightmare&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;The VLAN Nightmare
&lt;/h3&gt;&lt;p&gt;Here&amp;rsquo;s where things got interesting. Tandoor runs on a completely different network segment, so Traefik couldn&amp;rsquo;t just magically find it. I had to:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Open firewall rules between the Traefik host and Tandoor&amp;rsquo;s host&lt;/li&gt;
&lt;li&gt;Set up proper DNS resolution (or just use IP addresses)&lt;/li&gt;
&lt;li&gt;Configure Traefik to route to the external service&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The key was adding this to Traefik:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;- &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;traefik.http.services.tandoor.loadbalancer.server.url=http://192.168.100.100:8085&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Took me way too long to figure out that one line.&lt;/p&gt;
&lt;h2 id=&#34;what-i-learned-the-hard-way&#34;&gt;&lt;a href=&#34;#what-i-learned-the-hard-way&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;What I Learned (The Hard Way)
&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;VLANs will humble you.&lt;/strong&gt; I thought I knew networking. I was wrong. Spend time getting your firewall rules right before you blame the software.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Start with the basics.&lt;/strong&gt; Don&amp;rsquo;t try to set up everything at once. Get a simple HTTP service working first, then add authentication, then SSL, then complexity.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Documentation is your friend.&lt;/strong&gt; Especially for Authelia - that config file has about 50 different options and most of them aren&amp;rsquo;t obvious.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Version control everything.&lt;/strong&gt; I keep all my configs in a private Git repo. When something breaks (and it will), you can actually figure out what changed.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Cloudflared is magic.&lt;/strong&gt; Seriously, the peace of mind of not having any open ports is worth the setup hassle.&lt;/p&gt;
&lt;h2 id=&#34;was-it-worth-it&#34;&gt;&lt;a href=&#34;#was-it-worth-it&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;Was It Worth It?
&lt;/h2&gt;&lt;p&gt;Absolutely. My wife can now check recipes while shopping, I can access my services from anywhere, and I sleep better knowing I&amp;rsquo;m not running an open port festival.&lt;/p&gt;
&lt;p&gt;The best part? Adding new services is actually easy now. Same pattern every time: add the Docker labels, create an Authelia rule, done. It scales really well once you have the foundation in place.&lt;/p&gt;
&lt;p&gt;If you&amp;rsquo;re thinking about doing something similar, start small. Pick one service, get it working end-to-end, then expand. The modular approach means you&amp;rsquo;re not locked into anything - if you hate Traefik tomorrow, you can swap it out without rebuilding everything.&lt;/p&gt;
&lt;p&gt;And hey, if you get stuck, the homelab community is pretty helpful. Just don&amp;rsquo;t ask them about VLANs unless you want a 3-hour discussion about network segmentation philosophy.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;All the config files and Docker Compose examples are in my GitHub repo if you want to see the full setup. Just search for my username and &amp;ldquo;homelab-access-stack&amp;rdquo; or something like that.&lt;/em&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>From Torrent to Library: Automating TV, Movies, and Audiobooks with Gluetun, qBittorrent, and arr</title>
        <link>http://192.168.100.63/projects/torrent-setup/</link>
        <pubDate>Wed, 14 May 2025 13:00:00 -0400</pubDate>
        
        <guid>http://192.168.100.63/projects/torrent-setup/</guid>
        <description>&lt;hr&gt;
&lt;h1 id=&#34;building-my-perfect-media-automation-pipeline&#34;&gt;&lt;a href=&#34;#building-my-perfect-media-automation-pipeline&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;Building My Perfect Media Automation Pipeline
&lt;/h1&gt;&lt;p&gt;&lt;em&gt;How I stopped manually managing downloads and built a self-running media server&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Posted: May 14, 2025 | ~11 minute read&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;I got tired of the constant dance. Download something, figure out where it went, rename it properly, move it to the right folder, update the media server. Rinse and repeat, dozens of times a week. There had to be a better way.&lt;/p&gt;
&lt;p&gt;What I really wanted was dead simple: new episodes show up automatically, everything gets organized correctly, and most importantly, my ISP never sees what I&amp;rsquo;m actually downloading. After months of tinkering, I finally have a setup that just works.&lt;/p&gt;
&lt;h2 id=&#34;what-i-built&#34;&gt;&lt;a href=&#34;#what-i-built&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;What I Built
&lt;/h2&gt;&lt;p&gt;The core idea is a fully automated pipeline that handles everything from search to final organization, all running behind a VPN with proper kill switches. Here&amp;rsquo;s what happens now:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Sonarr/Radarr monitor for new releases&lt;/li&gt;
&lt;li&gt;They automatically grab torrents through qBittorrent&lt;/li&gt;
&lt;li&gt;Everything downloads through a VPN (Gluetun) with zero IP leaks&lt;/li&gt;
&lt;li&gt;Files get renamed and sorted automatically&lt;/li&gt;
&lt;li&gt;Media shows up in Jellyfin ready to stream&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;No manual intervention required. It&amp;rsquo;s honestly a bit magical when it works right.&lt;/p&gt;
&lt;h2 id=&#34;the-technical-stack&#34;&gt;&lt;a href=&#34;#the-technical-stack&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;The Technical Stack
&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;Gluetun&lt;/strong&gt; - This is the secret sauce. It&amp;rsquo;s a VPN container that other containers can route through. No VPN leaks, ever.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;qBittorrent&lt;/strong&gt; - The actual torrent client, but locked inside Gluetun&amp;rsquo;s network&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Sonarr &amp;amp; Radarr&lt;/strong&gt; - The automation brains for TV and movies respectively&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Audiobookshelf&lt;/strong&gt; - Because I got tired of Audible&amp;rsquo;s limitations&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Unraid NAS&lt;/strong&gt; - Where everything actually lives&lt;/p&gt;
&lt;p&gt;The architecture looks like this:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[Internet]
   │
[Gluetun VPN Container]
   │
[qBittorrent Container (network_mode: service:gluetun)]
   │
[Sonarr/Radarr/Audiobookshelf]
   │
[Unraid NAS SMB/NFS Shares]
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;the-vpn-foundation-gluetun&#34;&gt;&lt;a href=&#34;#the-vpn-foundation-gluetun&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;The VPN Foundation: Gluetun
&lt;/h2&gt;&lt;p&gt;Most VPN setups are sketchy. They work until they don&amp;rsquo;t, and then your real IP gets exposed while downloading the latest season of whatever. Gluetun solves this by creating a container that other services route through. If the VPN goes down, nothing gets through. Period.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m using Private Internet Access because their pricing is decent and they don&amp;rsquo;t keep logs (allegedly). The setup looks like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;services&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;gluetun&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;qmcgaw/gluetun:latest&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;cap_add&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;NET_ADMIN&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;environment&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;VPN_SERVICE_PROVIDER=private internet access&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;OPENVPN_USER=your-username&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;OPENVPN_PASSWORD=your-password&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;SERVER_COUNTRIES=United States&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;ports&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;8080:8080&amp;#34;&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# qBittorrent Web UI&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;8989:8989&amp;#34;&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Sonarr&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;7878:7878&amp;#34;&lt;/span&gt;  &lt;span style=&#34;color:#75715e&#34;&gt;# Radarr&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;volumes&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;./gluetun:/gluetun&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The key insight is that all the web UI ports get mapped through the Gluetun container. This way, if the VPN is down, nothing is accessible.&lt;/p&gt;
&lt;h2 id=&#34;the-download-engine-qbittorrent&#34;&gt;&lt;a href=&#34;#the-download-engine-qbittorrent&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;The Download Engine: qBittorrent
&lt;/h2&gt;&lt;p&gt;qBittorrent runs inside Gluetun&amp;rsquo;s network namespace, which means it literally cannot access the internet without the VPN being up. This is way more reliable than trying to configure a VPN client inside the container.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;qbittorrent&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;linuxserver/qbittorrent&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;depends_on&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;gluetun&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;network_mode&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;service:gluetun&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;environment&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;PUID=1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;PGID=1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;TZ=America/New_York&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;WEBUI_PORT=8080&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;volumes&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;/mnt/r430/media/torrents:/downloads&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;./qbittorrent/config:/config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;restart&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;unless-stopped&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The &lt;code&gt;network_mode: &amp;quot;service:gluetun&amp;quot;&lt;/code&gt; line is crucial - that&amp;rsquo;s what locks qBittorrent inside the VPN tunnel.&lt;/p&gt;
&lt;h2 id=&#34;the-automation-layer-sonarr-and-radarr&#34;&gt;&lt;a href=&#34;#the-automation-layer-sonarr-and-radarr&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;The Automation Layer: Sonarr and Radarr
&lt;/h2&gt;&lt;p&gt;These are the tools that actually make everything automatic. They monitor RSS feeds and indexers for new releases, then tell qBittorrent what to download. Once something finishes downloading, they handle the renaming and moving to final folders.&lt;/p&gt;
&lt;p&gt;Sonarr handles TV shows:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;sonarr&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;linuxserver/sonarr&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;network_mode&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;service:gluetun&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;environment&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;PUID=1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;PGID=1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;TZ=America/New_York&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;volumes&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;/mnt/r430/media/tv:/tv&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;/mnt/r430/media/torrents:/downloads&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;./sonarr/config:/config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;restart&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;unless-stopped&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Radarr does the same thing for movies:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;radarr&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;linuxserver/radarr&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;network_mode&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;service:gluetun&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;environment&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;PUID=1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;PGID=1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;TZ=America/New_York&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;volumes&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;/mnt/r430/media/movies:/movies&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;/mnt/r430/media/torrents:/downloads&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;./radarr/config:/config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;restart&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;unless-stopped&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Both also run through the VPN, though this is arguably overkill since they&amp;rsquo;re just managing files locally.&lt;/p&gt;
&lt;h2 id=&#34;audiobooks-breaking-free-from-audible&#34;&gt;&lt;a href=&#34;#audiobooks-breaking-free-from-audible&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;Audiobooks: Breaking Free from Audible
&lt;/h2&gt;&lt;p&gt;I got sick of Audible&amp;rsquo;s limitations and DRM nonsense, so I added Audiobookshelf to the mix. It&amp;rsquo;s like having your own private audiobook streaming service.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;audiobookshelf&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;image&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;ghcr.io/advplyr/audiobookshelf:latest&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;container_name&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;audiobookshelf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;ports&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;13378:80&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;environment&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;TZ=America/New_York&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;volumes&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;/mnt/r430/media/audiobooks:/audiobooks&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;/mnt/r430/media/ebooks:/ebooks&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;./audiobookshelf/config:/config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;      - &lt;span style=&#34;color:#ae81ff&#34;&gt;./audiobookshelf/metadata:/metadata&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#f92672&#34;&gt;restart&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;unless-stopped&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This one doesn&amp;rsquo;t need the VPN since it&amp;rsquo;s just serving files that are already local.&lt;/p&gt;
&lt;h2 id=&#34;storage-the-unraid-foundation&#34;&gt;&lt;a href=&#34;#storage-the-unraid-foundation&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;Storage: The Unraid Foundation
&lt;/h2&gt;&lt;p&gt;Everything lives on my Unraid NAS, shared out via SMB. The Docker containers mount these shares directly:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/mnt/r430/media/torrents&lt;/code&gt; - Downloads staging area&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/mnt/r430/media/tv&lt;/code&gt; - Final TV show library&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/mnt/r430/media/movies&lt;/code&gt; - Final movie library&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/mnt/r430/media/audiobooks&lt;/code&gt; - Audiobook collection&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This keeps everything centralized and accessible to other services like Jellyfin.&lt;/p&gt;
&lt;h2 id=&#34;what-goes-wrong-and-how-to-fix-it&#34;&gt;&lt;a href=&#34;#what-goes-wrong-and-how-to-fix-it&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;What Goes Wrong (And How to Fix It)
&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;VPN Connection Issues&lt;/strong&gt; - Your VPN provider matters. Some have terrible reliability or throttle torrent traffic. I&amp;rsquo;ve had good luck with PIA, but YMMV.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Permission Nightmares&lt;/strong&gt; - Make sure all containers run with the same PUID/PGID (1000/1000 in my case). Otherwise file moves between containers will fail spectacularly.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Network Complexity&lt;/strong&gt; - Docker networking plus VLANs plus VPNs can get weird. Keep it simple - only expose the ports you actually need.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Storage Explosion&lt;/strong&gt; - Automated downloads can fill up drives fast. Set up monitoring and maybe some cleanup scripts.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Quality Control&lt;/strong&gt; - Without good filters, you&amp;rsquo;ll end up with terabytes of garbage. Spend time configuring quality profiles in Sonarr/Radarr.&lt;/p&gt;
&lt;h2 id=&#34;lessons-from-the-trenches&#34;&gt;&lt;a href=&#34;#lessons-from-the-trenches&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;Lessons from the Trenches
&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;Test your kill switch&lt;/strong&gt; - Disconnect your VPN and make sure nothing leaks. I use &lt;a class=&#34;link&#34; href=&#34;https://ipleak.net&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://ipleak.net&lt;/a&gt; from inside the qBittorrent container.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Version control your configs&lt;/strong&gt; - Keep your Docker Compose files in Git. When (not if) you break something, you can roll back easily.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Monitor disk space&lt;/strong&gt; - Automated downloads are great until they fill your array at 3 AM.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Good indexers matter&lt;/strong&gt; - The quality of your automation is only as good as your sources. Invest in decent private trackers if you can.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Backup your configs&lt;/strong&gt; - Losing your Sonarr/Radarr database means re-adding everything manually. Not fun.&lt;/p&gt;
&lt;h2 id=&#34;the-results&#34;&gt;&lt;a href=&#34;#the-results&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;The Results
&lt;/h2&gt;&lt;p&gt;After running this for about six months, I&amp;rsquo;m genuinely happy with how it&amp;rsquo;s working out. New episodes just appear in Jellyfin without me thinking about it. Movies I want to watch show up automatically. Audiobooks sync across all my devices.&lt;/p&gt;
&lt;p&gt;The privacy aspect gives me peace of mind - there&amp;rsquo;s literally no way for downloads to happen without the VPN being active. Even if something goes wrong with the VPN connection, everything just stops rather than falling back to my real IP.&lt;/p&gt;
&lt;p&gt;Performance has been solid too. The VPN overhead is minimal, and having everything automated means the system stays busy during off-peak hours when bandwidth is cheap.&lt;/p&gt;
&lt;h2 id=&#34;worth-the-complexity&#34;&gt;&lt;a href=&#34;#worth-the-complexity&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;Worth the Complexity?
&lt;/h2&gt;&lt;p&gt;For me, absolutely. The initial setup took a weekend of tinkering, but now I spend maybe 5 minutes a month managing the whole system. Compare that to the hours I used to spend manually downloading and organizing files.&lt;/p&gt;
&lt;p&gt;The main downside is complexity - there are a lot of moving parts, and troubleshooting can be tricky when something breaks. But the time savings and peace of mind make it worthwhile.&lt;/p&gt;
&lt;p&gt;If you&amp;rsquo;re already comfortable with Docker and have a decent understanding of networking, this setup isn&amp;rsquo;t too bad to replicate. If you&amp;rsquo;re just getting started with self-hosting, maybe begin with something simpler and work your way up.&lt;/p&gt;
&lt;h2 id=&#34;whats-next&#34;&gt;&lt;a href=&#34;#whats-next&#34; class=&#34;header-anchor&#34;&gt;&lt;/a&gt;What&amp;rsquo;s Next
&lt;/h2&gt;&lt;p&gt;I&amp;rsquo;m considering adding Prowlarr to manage indexers more centrally, and maybe Bazarr for subtitle automation. The setup is modular enough that adding new components is pretty straightforward.&lt;/p&gt;
&lt;p&gt;I also want to improve the monitoring - knowing when things break before they affect the end user experience would be nice.&lt;/p&gt;
&lt;p&gt;Overall though, this has been one of my more successful homelab projects. It solves a real problem and actually stays working once you get it configured properly.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;If you&amp;rsquo;re curious about specific configuration details or run into issues setting this up, I&amp;rsquo;ve got the full Docker Compose files and notes in my GitHub repo. Just search for my username and &amp;ldquo;media-automation&amp;rdquo; or something similar.&lt;/em&gt;&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
